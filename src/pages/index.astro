---
const posts = await Astro.glob('./journal/*.md');
const sortedPosts = posts.sort((a, b) => 
  new Date(b.frontmatter.pubDate).valueOf() - new Date(a.frontmatter.pubDate).valueOf()
);
---

<html lang="ja">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<title>Tomohiro Ogawa</title>
		<style>
			/* Swiss Style Reset */
			* { box-sizing: border-box; }
			
			body {
				font-family: "Helvetica Neue", Arial, sans-serif;
				background-color: #fff; /* Pure White for Structure */
				color: #111;
				margin: 0;
				display: flex;
				justify-content: center;
				min-height: 100vh;
			}

			/* The Grid Container: 記事ページと完全一致させる */
			.grid-container {
				width: 100%;
				max-width: 720px; /* Max Bill Number */
				padding: 6rem 2rem;
				display: flex;
				flex-direction: column;
			}

			header {
				margin-bottom: 4rem;
				padding-left: 3rem; /* 軸からの距離 */
				border-left: 1px solid #e5e5e5; /* The Axis */
			}

			h1 {
				font-size: 1.2rem;
				font-weight: 700; /* Hofmann Strong */
				letter-spacing: 0.05em;
				margin: 0 0 0.2rem 0;
				text-transform: uppercase;
			}
			.subtitle {
				font-size: 0.75rem;
				color: #666;
			}

			/* List Structure */
			ul {
				list-style: none;
				padding: 0;
				margin: 0;
				border-left: 1px solid #e5e5e5; /* The Axis (Continuous) */
			}

			.entry {
				position: relative;
				padding-left: 3rem; /* Headerと一致 */
				padding-bottom: 4rem;
			}

			/* The Tick (目盛り) - Sol LeWitt Style */
			.entry::before {
				content: '';
				position: absolute;
				left: 0;
				top: 0.6em;
				width: 12px; /* 明確な目盛り */
				height: 1px;
				background-color: #111;
			}

			.meta {
				font-family: monospace;
				font-size: 0.75rem;
				color: #999;
				margin-bottom: 0.5rem;
				display: flex;
				gap: 1rem;
			}

			.title-link {
				display: block;
				text-decoration: none;
				color: #111;
				font-size: 1.1rem;
				font-weight: 400;
				line-height: 1.4;
				transition: opacity 0.2s;
			}
			.title-link:hover { opacity: 0.6; }
		</style>
	</head>
	<body>
		<div class="grid-container">
			<header>
				<h1>Tomohiro Ogawa</h1>
				<span class="subtitle">Poet of Technology</span>
			</header>

			<main>
				<ul>
					{sortedPosts.map((post, index) => {
						const entryNumber = String(sortedPosts.length - index).padStart(3, '0');
						return (
							<li class="entry">
								<div class="meta">
									<span>{entryNumber}</span>
									<time datetime={post.frontmatter.pubDate}>
										{new Date(post.frontmatter.pubDate).toLocaleDateString('en-CA')}
									</time>
								</div>
								<a href={post.url} class="title-link">
									{post.frontmatter.title}
								</a>
							</li>
						)
					})}
				</ul>
			</main>
		</div>
	</body>
</html>