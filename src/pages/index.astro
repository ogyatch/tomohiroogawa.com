---
// 1. Logic: 記事データの収集
// journalフォルダ内の全Markdownファイルを取得
const posts = await Astro.glob('./journal/*.md');

// 日付の新しい順に並び替え（Sort）
const sortedPosts = posts.sort((a, b) => 
  new Date(b.frontmatter.pubDate).valueOf() - new Date(a.frontmatter.pubDate).valueOf()
);
---

<html lang="ja">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<title>Tomohiro Ogawa</title>
		<style>
			/* Aesthetics: Minimal Design System */
			body {
				font-family: "Helvetica Neue", Arial, sans-serif;
				max-width: 600px;
				margin: 0 auto;
				padding: 4rem 2rem;
				color: #333;
			}
			header {
				margin-bottom: 4rem;
				text-align: center;
			}
			h1 {
				font-weight: 300;
				letter-spacing: 0.1em;
				margin-bottom: 0.5rem;
				font-size: 1.5rem;
			}
			.subtitle {
				font-size: 0.8rem;
				color: #888;
				text-transform: uppercase;
				letter-spacing: 0.2em;
			}
			
			/* リストの美学 */
			ul {
				list-style: none;
				padding: 0;
				margin: 0;
			}
			li {
				margin-bottom: 1.5rem;
				display: flex;
				align-items: baseline;
				gap: 1.5rem;
			}
			time {
				font-family: monospace;
				color: #999;
				font-size: 0.85rem;
				min-width: 100px; /* 日付の位置を揃える */
			}
			a {
				text-decoration: none;
				color: #333;
				border-bottom: 1px solid transparent;
				transition: border-color 0.2s;
			}
			a:hover {
				border-bottom-color: #333;
			}
		</style>
	</head>
	<body>
		<header>
			<h1>Tomohiro Ogawa</h1>
			<span class="subtitle">Poet of Technology</span>
		</header>

		<main>
			<ul>
				{sortedPosts.map(post => (
					<li>
						<time datetime={post.frontmatter.pubDate}>
							{new Date(post.frontmatter.pubDate).toLocaleDateString('ja-JP')}
						</time>
						<a href={post.url}>{post.frontmatter.title}</a>
					</li>
				))}
			</ul>
		</main>
	</body>
</html>